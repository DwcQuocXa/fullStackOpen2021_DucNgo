(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{40:function(e,n,t){},41:function(e,n,t){"use strict";t.r(n);var r=t(1),c=t.n(r),a=t(16),i=t.n(a),o=t(5),u=t(7),s=t(3),d=t(0);var l=function(e){var n=e.inputValue,t=e.handleFilter;return Object(d.jsxs)("div",{children:["filter shown with",Object(d.jsx)("input",{value:n,onChange:t})]})};var b=function(e){var n=e.addPerson,t=e.newPerson,r=e.handleAdd;return Object(d.jsxs)("form",{onSubmit:n,children:[Object(d.jsx)("h2",{children:"add a new"}),Object(d.jsxs)("div",{children:["name: ",Object(d.jsx)("input",{value:t.name,name:"name",onChange:r})]}),Object(d.jsxs)("div",{children:["number:"," ",Object(d.jsx)("input",{value:t.number,name:"number",onChange:r})]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{type:"submit",children:"add"})})]})};var j=function(e){var n=e.filter,t=e.persons,r=e.handleDelete;return Object(d.jsx)("div",{children:n?n.map((function(e){return Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{children:[e.name," ",e.number]}),Object(d.jsx)("button",{onClick:function(){return r(e.id)},children:"Delete"})]},e.name)})):t.map((function(e){return Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{children:[e.name," ",e.number]}),Object(d.jsx)("button",{onClick:function(){return r(e.id)},children:"Delete"})]},e.name)}))})},m=t(4),f=t.n(m),h="api/persons",O=function(){return f.a.get(h).then((function(e){return e.data}))},v=function(e){return f.a.post(h,e).then((function(e){return e.data}))},p=function(e,n){return f.a.put("".concat(h,"/").concat(e),n).then((function(e){return e.data}))},x=function(e){return f.a.delete("".concat(h,"/").concat(e)).then((function(e){return e.data}))};t(40);var g=function(e){var n=e.message,t=e.messageType;return null===n?null:Object(d.jsx)("div",{className:t,children:n})},w=function(){var e=Object(r.useState)([{name:"Arto Hellas",number:"84301298341204"}]),n=Object(s.a)(e,2),t=n[0],c=n[1],a=Object(r.useState)({name:"",number:""}),i=Object(s.a)(a,2),m=i[0],f=i[1],h=Object(r.useState)(""),w=Object(s.a)(h,2),C=w[0],P=w[1],k=Object(r.useState)(null),S=Object(s.a)(k,2),D=S[0],y=S[1],F=Object(r.useState)(null),T=Object(s.a)(F,2),A=T[0],I=T[1],L=function(){setTimeout((function(){y(null)}),3e3)};Object(r.useEffect)((function(){O().then((function(e){return c(e)}))}),[]);return Object(d.jsxs)("div",{children:[Object(d.jsx)(g,{message:D,messageType:A}),Object(d.jsx)("h2",{children:"Phonebook"}),Object(d.jsx)(l,{inputValue:C.name,handleFilter:function(e){var n=t.filter((function(n){return n.name.toLowerCase().includes(e.target.value.toLowerCase())}));P(n)}}),Object(d.jsx)(b,{addPerson:function(e){e.preventDefault();var n={name:m.name,number:m.number};if(""!==n.name&&""!==n.number){var r=t.filter((function(e){return e.name===m.name}));r.length>0?(!function(e,n){window.confirm("".concat(n.name," is already added to phonebook, replace the old number with a new one?"))&&p(e.id,n).then((function(n){return c(t.map((function(t){return t.id!==e.id?t:n})))}))}(r[0],n),y("".concat(n.name,"'s number has changed")),L(),I("noti")):isNaN(m.number)?(y("Please import number in number section"),L(),I("noti")):v(n).then((function(e){return c(t.concat(e))}),y("Added ".concat(n.name)),L(),f({name:"",number:""}),I("noti"))}else L(),y("Please add a new person"),I("noti")},newPerson:m,handleAdd:function(e){f(Object(u.a)(Object(u.a)({},m),{},Object(o.a)({},e.target.name,e.target.value)))}}),Object(d.jsx)("h2",{children:"Numbers"}),Object(d.jsx)(j,{filter:C,persons:t,handleDelete:function(e){var n=t.find((function(n){return n.id===e}));window.confirm("Delete ".concat(n.name," ?"))&&x(e).then((function(){return c(t.filter((function(n){return n.id!==e})))}),y("Information of ".concat(n.name," has been deleted")),I("noti"),L()).catch((function(){y("Information of ".concat(n.name," has already been removed from server")),L(),I("error")}))}})]})},C=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,42)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,a=n.getLCP,i=n.getTTFB;t(e),r(e),c(e),a(e),i(e)}))};i.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(w,{})}),document.getElementById("root")),C()}},[[41,1,2]]]);
//# sourceMappingURL=main.d053e102.chunk.js.map